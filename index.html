<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>TwitterChallenge</title>
	</head>
	<body>
		<div id="login">
			<form action="/" id="loginform">
				<h1>Entrer un Login</h1>
				<input type="text" name="login" id="username">
				<input type="submit" value="Enregistrer">
			</form>
		</div>
		<div id="user"></div>
		<div id="twitterstream" style="height: auto; width: 900px; border: solid 1px black;" ></div>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<script type="text/javascript" src="/socket.io/socket.io.js" ></script>
		<script type="text/javascript" >

			var socket = io.connect('http://localhost:8080');
			$('#loginform').submit(function(event){
				event.preventDefault();
				socket.emit('login', {username: $('#username').val()
				})
			});

			socket.on('logged', function(){
				$('#login').fadeOut();

			});

			socket.on('newuser', function(user){
				$('#user').append('<p id="'+ user.username +'" ><em>' + user.username + ' a rejoint le Chat !</em></p>');
			});

			socket.on('decoUser', function(user){
				$('#'+ user.username +'').remove();
			});




		</script>
	</body>
</html>